<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Shuffle</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">

  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:100,300,400'>
  <link rel="stylesheet" href="../css/all.css">
  <link rel="stylesheet" href="../css/contactlist.css">
  <link rel="icon" href="../ruby.png" type="image/x-icon">
  <style>

    .radio {
      color: white;
      position: relative;
      display: inline;
    }
    .searchinput{
  position: absolute;
  top: -100%;
  right: 150%;
  background: none;
  color: #2196F3;
  font-size: 1em;
  padding: 10px 10px 10px 5px;
  display: block;
  width: 200px;
  border: none;
  border-radius: 0;
  border-bottom: 1px solid #c6c6c6;
}
.searchinput:focus, {
  outline: none;
}
.searchinput:focus ~ label, .searchinput:valid ~ label {
  top: -14px;
  font-size: 12px;
  color: #2196F3;
}
.searchinput:focus ~ .bar:before,{
  width: 320px;
}
</style>
<style>
    .menuicon{
      padding:0px;
      position: absolute;;
      text-align:center;
      display: block;
      top: -40%;
    left: 40%;
    }
  </style>
  
</head>

<body>
<fieldset class='material-button logout'>
  <div>
    <input class='save' onclick="location.href = '/auth/logout/';" style="background-color: #f5515f;" type='submit' value='log out'>
  </div>
</fieldset>
<div class="app">
    <a href="../sweet-circle-menu/index.html"><img onclick="location.href = '../menu/index.html';" class="menuicon" height="80px" width="80px" src="../ruby.png" alt=""></a>
  <header>
    <h1><strong>Shuffle</strong></h1>
    <nav></nav>
    <div class="search"><input class="searchinput" type="text" required="required"/><svg><use xlink:href="#ico-search"></use></svg></div>
  </header>
  <h2>Connect With</h2>
  <form action="/contacts/changeview" method="POST" class="radio">
    <input class="radio" type="radio" name="all" value="all"> All 
    <input class="radio" type="radio" name="all" value="incontacts" checked> In Contacts
    <input class="radio" type="radio" name="all" value="invites"> Invites
    <input class="radio" type="radio" name="all" value="recommendedfriends"> Recommendations
  </form>
  <section class="movies">
      <% users.forEach(function (user) { %>
          <form id="<%= user.name %>" class="movie" method="POST" action="/contacts/acceptinvite">
            <input type="hidden" name="username" value="<%= user.username %>">
            <img src="../uploads/<%= user.username %>/<%= user.profilepic %>" width="150px" height="200px" alt="" class="poster" />
            <div class="title"><%= user.name %></div>
            <div class="info">
              <span class="length"><%= user.title %></span>
              <br>
              <span class="year"><%= user.location %></span>
            </div>
            <div class="desc"><%= user.bio %></div>
          </form>                             
    <% }) %>
  </section>
  <div class="detail">
    <svg class="close">
      <use xlink:href="#close"></use>
    </svg>
    <div id="connect" class="movie">
        <button onclick="window.location = '../viewprofile/' + $(this).siblings('input').val();"class="play">
          View Profile
          </button>


    </div>
  </div>
</div>


<!-- Icons -->
<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none;">
  <symbol id="close" viewBox="0 0 212.982 212.982">
    <g>
      <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312   c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312   l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937   c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z" fill="#525661"/>
    </g>
  </symbol>
  <symbol id="ico-search">
    <path fill-rule="evenodd" clip-rule="evenodd" fill="#fff" d="M14.769,14.769c-0.342,0.342-0.896,0.342-1.237,0l-3.756-3.756
                                                                    c-2.399,1.793-5.801,1.623-7.981-0.557c-2.392-2.392-2.392-6.271,0-8.663s6.271-2.392,8.662,0c2.18,2.181,2.35,5.583,0.557,7.981
                                                                    l3.756,3.756C15.11,13.873,15.11,14.427,14.769,14.769z M9.219,3.032c-1.709-1.709-4.479-1.709-6.188,0
                                                                    c-1.708,1.708-1.708,4.479,0,6.188c1.709,1.708,4.479,1.708,6.188,0C10.927,7.51,10.927,4.74,9.219,3.032z"/>
  </symbol>
</svg>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
  

    <script  src="../js/contactlist.js"></script>
  <script>
    $('input[type=radio]').on('change', function() {
        $(this).closest("form").submit();
    });
    jQuery.fn.capitalize = function() {
      $(this[0]).keyup(function(event) {
          var box = event.target;
          var txt = $(this).val();
          var stringStart = box.selectionStart;
          var stringEnd = box.selectionEnd;
          $(this).val(txt.replace(/^(.)|(\s|\-)(.)/g, function($word) {
              return $word.toUpperCase();
          }));
          box.setSelectionRange(stringStart , stringEnd);
      });

      return this;
    }
    
    console.log($('#Feanor\\ Curufinwe'));
    $('.searchinput').capitalize();
    $('.searchinput').keyup(function() {
      console.log($(this).val()); // get the current value of the input field.
      if($(this).val() == ""){
        $('.movie').show();
      } else{
        filter = $(this).val(); 
        $('[id^=' + $(this).val().replace(" ", "\\ ") + ']').show();
        $(".movie:not([id^=" + $(this).val().replace(" ", "\\ ") +  "])").hide();
      }
    });
  </script>



</body>

</html>
